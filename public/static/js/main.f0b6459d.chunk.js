(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){e.exports=a.p+"static/media/logo.cde46c2a.png"},34:function(e,t,a){e.exports=a(70)},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},69:function(e){e.exports={}},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(29),s=a.n(l),c=a(6),o=a(1),i=a(2),u=a(4),m=a(3),h=a(5),p=(a(39),a(40),a(41),a(30)),d=a(8),E=a.n(d),g=function e(){var t=this;Object(o.a)(this,e),this.signup=function(e,a){return t.service.post("/signup",{username:e,password:a}).then(function(e){return e.data})},this.loggedin=function(){return t.service.get("/loggedin").then(function(e){return e.data})},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then(function(e){return e.data})},this.logout=function(){return t.service.post("/logout",{}).then(function(e){return e.data})};var a=E.a.create({baseURL:"https://secure-garden-36333.herokuapp.com/api",withCredentials:!0});this.service=a},b=a(31),f=a.n(b);function v(){return r.a.createElement("a",{className:"img",href:"/"},r.a.createElement("img",{className:"img",src:f.a,width:"225px"}))}function y(){return r.a.createElement("ul",{className:"navitems"},r.a.createElement("li",{className:"navList"},r.a.createElement(c.b,{style:{textDecoration:"none"},to:""},"Home")),r.a.createElement("li",{className:"navList"},r.a.createElement(c.b,{style:{textDecoration:"none"},to:""},"About")),r.a.createElement("li",{className:"navList"},r.a.createElement(c.b,{style:{textDecoration:"none"},to:"/addEntry"},"Submit Entry")))}var j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).logoutUser=function(){a.setState({loggedInUser:null}),a.service.logout().then(function(){a.setState({loggedInUser:null}),window.location.href="/"})},a.state={loggedInUser:null},a.service=new g,a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(p.a)({},this.state,{loggedInUser:e.userInSession}))}},{key:"render",value:function(){var e=this;return this.state.loggedInUser?r.a.createElement("div",null,r.a.createElement("div",{className:"userDialogStyles"},"Logged in as ",this.state.loggedInUser.username,r.a.createElement("br",null),r.a.createElement("p",null,"\ud83c\udfc6",this.state.loggedInUser.points),r.a.createElement(c.b,{to:"/users/".concat(this.state.loggedInUser.username)},r.a.createElement("button",null,"My Profile"))," ",r.a.createElement(c.b,{to:"/"},r.a.createElement("button",{onClick:function(){return e.logoutUser()}},"Logout"))),r.a.createElement("div",{style:{height:125},className:"nav-flex-container1"},r.a.createElement(v,null)),r.a.createElement("div",{className:"nav-flex-container2"},r.a.createElement(y,null))):r.a.createElement("div",null,r.a.createElement("div",{className:"userDialogStyles2"},r.a.createElement("div",null,r.a.createElement(c.b,{to:"/login",style:{textDecoration:"none"}},"Login")),r.a.createElement("div",null,r.a.createElement(c.b,{to:"/signup",style:{textDecoration:"none"}},"Signup"))),r.a.createElement("div",{className:"nav-flex-container1"},r.a.createElement(v,null)),r.a.createElement("div",{className:"nav-flex-container2"},r.a.createElement(y,null)))}}]),t}(r.a.Component),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this))).state={user:{}},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.userInSession),E.a.get("https://secure-garden-36333.herokuapp.com/users/".concat(this.props.match.params.username)).then(function(t){e.setState({user:t.data}),console.log(t)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"infoSection",style:{margin:"auto",padding:50,textAlign:"center"}},r.a.createElement("h1",null,this.state.user.username&&this.state.user.username.charAt(0).toUpperCase()+this.state.user.username.slice(1)),r.a.createElement("h5",null,"\ud83c\udfc6 ",this.state.user.points," points"),r.a.createElement("h6",null,"Contributions:"),r.a.createElement("div",{style:{justifyContent:"center",display:"flex",flexDirection:"row",flexWrap:"wrap"}},this.state.user.additions&&this.state.user.additions.map(function(e){return r.a.createElement("div",{style:{background:"grey",padding:10,width:"45%",margin:10,color:"white"}},r.a.createElement(c.b,{to:"/items/".concat(e.itemId)},r.a.createElement("h6",null,e.item),r.a.createElement("h5",null,'"',e.contribution,'"')))})))}}]),t}(n.Component),w=a(14),S=a(15),C=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).setRedirect=function(){e.setState({redirect:!0})},e.state={redirect:!1},e.handleInput=e.handleInput.bind(Object(w.a)(e)),e}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleInput",value:function(e){this.setState({searchTerm:[e.target.value]})}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(S.a,{to:"/search/".concat(this.state.searchTerm)}):r.a.createElement("div",{className:"search"},r.a.createElement("div",{className:"searchBar"},r.a.createElement("form",{onSubmit:this.setRedirect},r.a.createElement("input",{required:!0,onChange:this.handleInput,className:"searchBox"}),r.a.createElement("button",{type:"submit",className:"btn btn-sm"},"GO!"))))}}]),t}(n.Component),k={background:"white",width:"50%",margin:"auto",padding:100,textAlign:"center"},x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={userId:a.props.userInSession._id,username:a.props.userInSession.username},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleFact",value:function(e){console.log(e.target.name,e.target.value),this.setState({description:e.target.value})}},{key:"handleSource",value:function(e){console.log(e.target.name,e.target.value),this.setState({source:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault(),E.a.post("https://secure-garden-36333.herokuapp.com/items/edit/".concat(this.props.match.params.id),{description:this.state.description,source:this.state.source,userId:this.state.userId,username:this.state.username}).then(function(e){console.log(e)}),window.location.href="/items/".concat(this.props.match.params.id)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:k},r.a.createElement("form",{onSubmit:function(t){return e.onSubmit(t)}},r.a.createElement("label",null,"Fact"),r.a.createElement("br",null),r.a.createElement("input",{style:{width:"50%"},onChange:function(t){return e.handleFact(t)},name:"description",type:"text",required:!0}),r.a.createElement("br",null),r.a.createElement("label",null,"Source"),r.a.createElement("br",null),r.a.createElement("input",{style:{width:"50%"},onChange:function(t){return e.handleSource(t)},name:"source",type:"text",required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Submit")))}}]),t}(n.Component),I=(a(69),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this))).state={results:[]},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;" "!=this.props.match.params.searchTerm&&"  "!=this.props.match.params.searchTerm||(window.location.href="/"),E.a.get("https://secure-garden-36333.herokuapp.com/items/search?term=".concat(this.props.match.params.searchTerm)).then(function(t){e.setState({results:t.data})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"resultContainer"},r.a.createElement("h1",null,'Search results for "',this.props.match.params.searchTerm,'":'),this.state.results.map(function(e){return r.a.createElement("div",{className:"singularResult"},r.a.createElement("h3",null,r.a.createElement(c.b,{to:"/items/".concat(e._id)},e.name)),r.a.createElement("p",{className:"description"},e.description.map(function(e){return e.endsWith(".")?e+" ":e+". "})),r.a.createElement("hr",null))}))}}]),t}(r.a.Component)),N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this))).state={pageResponse:"Coffee"},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props),console.log(this.props.data.name),E.a.get("https://en.wikipedia.org/w/api.php?format=json&action=query&prop=extracts&exintro&explaintext&redirects=1&origin=*&titles=".concat(this.props.data.name.toLowerCase())).then(function(t){console.log(t);var a=Object.keys(t.data.query.pages),n=t.data.query.pages[a].extract;e.setState({pageResponse:n})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"infoSection"},r.a.createElement("h1",null,this.props.data.name),r.a.createElement("p",{id:"contributors"},"Contributors:"," ",this.props.data.contributors.length>1&&this.props.data.contributors.map(function(e){return e+", "}),1==this.props.data.contributors.length&&this.props.data.contributors.map(function(e){return e})),r.a.createElement("hr",null),r.a.createElement("p",null,this.props.data.description.map(function(e){return e.endsWith(".")?e.charAt(0).toUpperCase()+e.slice(1)+" ":"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1),". ")})),r.a.createElement("p",null,"Contains:",this.props.data.mayContain&&this.props.data.mayContain.map(function(e){return r.a.createElement("b",null,e.toUpperCase())})),r.a.createElement("p",null,"Read more:"," ",this.props.data.sources.map(function(e){return e.startsWith("http")?r.a.createElement("li",null,r.a.createElement("a",{href:e},e)):r.a.createElement("li",null,r.a.createElement("a",{href:"http://"+e},e))})),r.a.createElement("center",null," ",r.a.createElement(c.b,{to:"/items/edit/".concat(this.props.data._id)},r.a.createElement("button",null,"Add a fact"))),r.a.createElement("hr",null),this.state.pageResponse&&r.a.createElement("div",null,r.a.createElement("h4",null,r.a.createElement("i",null,"From Wikipedia:")),r.a.createElement("p",null,this.state.pageResponse&&this.state.pageResponse.substring(0,1e3)+"..."),r.a.createElement("center",null," ",r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/".concat(this.props.data.name.toLowerCase())},r.a.createElement("button",null,"Read Wikipedia article"))),r.a.createElement("br",null),r.a.createElement("br",null)))}}]),t}(r.a.Component);var U=function(e){return console.log(e.data),r.a.createElement("table",{className:"infoTable"},r.a.createElement("tr",null,r.a.createElement("td",{id:"widthSet1"},r.a.createElement("h5",null,"Dietary")),r.a.createElement("td",{id:"widthSet2"})),null!=e.data.vegan&&r.a.createElement("tr",null,r.a.createElement("td",null,"Vegan: "),1==e.data.vegan?r.a.createElement("td",{className:"yes"},"Yes"):r.a.createElement("td",{className:"no"},"No")),null!=e.data.paleo&&r.a.createElement("tr",null,r.a.createElement("td",null,"Paleo: "),1==e.data.paleo?r.a.createElement("td",{className:"yes"},"Yes"):r.a.createElement("td",{className:"no"},"No")),null!=e.data.keto&&r.a.createElement("tr",null,r.a.createElement("td",null,"Keto: "),1==e.data.keto?r.a.createElement("td",{className:"yes"},"Yes"):r.a.createElement("td",{className:"no"},"No")),r.a.createElement("hr",null),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("h5",null,"Safety"))))};var D=function(e){return r.a.createElement("div",{id:"badge"},e.img&&e.img.includes("png")?r.a.createElement("img",{className:"image",style:{backgroundColor:"white",padding:5,marginTop:20},src:e.img}):r.a.createElement("img",{className:"image",style:{marginTop:20},src:e.img}))};var R=function(e){return console.log(e),r.a.createElement("div",{className:"infoBar"},r.a.createElement(D,{img:e.data.img}),r.a.createElement(U,{data:e.data}))},T=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this))).state={pageResponse:""},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;E.a.get("https://secure-garden-36333.herokuapp.com/items/".concat(this.props.match.params.id)).then(function(t){console.log(t.data),e.setState({pageResponse:t.data})})}},{key:"showDatasheet",value:function(){if(this.state.pageResponse)return r.a.createElement("div",{className:"resultData"},r.a.createElement(R,{data:this.state.pageResponse}),r.a.createElement(N,{data:this.state.pageResponse}))}},{key:"render",value:function(){return console.log("------------------------ ",this.state.pageResponse),r.a.createElement("div",null,this.showDatasheet())}}]),t}(n.Component),A=a(13),W=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.signup(t,n).then(function(e){a.setState({username:"",password:""}),a.props.getUser(e),window.location.href="/"}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(A.a)({},n,r))},a.state={username:"",password:""},a.service=new g,a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"infoSection",style:{textAlign:"center",margin:"auto"}},r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("br",null),r.a.createElement("input",{style:{border:"0.5px solid grey"},type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Password:"),r.a.createElement("br",null),r.a.createElement("input",{style:{border:"0.5px solid grey"},type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Sign up")),r.a.createElement("p",null,"Already have account?",r.a.createElement(c.b,{to:"/login"}," Login")))}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){console.log("hi"),e.preventDefault();var t=a.state.username,n=a.state.password;a.service.login(t,n).then(function(e){a.setState({username:"",password:""}),a.props.getUser(e),window.location.href="/"}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(A.a)({},n,r))},a.state={username:"",password:""},a.service=new g,a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"infoSection",style:{textAlign:"center",margin:"auto"}},r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("br",null),r.a.createElement("input",{style:{border:"0.5px solid grey"},type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Password:"),r.a.createElement("br",null),r.a.createElement("input",{style:{border:"0.5px solid grey"},name:"password",type:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Login")),r.a.createElement("p",null,"Don't have account?",r.a.createElement(c.b,{to:"/signup"}," Signup")))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(A.a)({},e,t.target.value))}},a.state={name:"",source:[],description:[],vegan:!0,paleo:!0,keto:!0,mayContain:[],user:a.props.userInSession.username,userId:a.props.userInSession._id},a.handleSubmit=a.handleSubmit.bind(Object(w.a)(a)),a.handleChange=a.handleChange.bind(Object(w.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),E.a.post("https://secure-garden-36333.herokuapp.com/addEntry",{name:this.state.name,source:this.state.source,description:this.state.description,vegan:this.state.vegan,paleo:this.state.paleo,keto:this.state.keto,mayContain:this.state.mayContain,user:this.state.user,userId:this.state.userId}),window.location.href="/"}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"infoSection",style:{margin:"auto",textAlign:"center"}},r.a.createElement("h1",null,"Add Entry"),r.a.createElement("hr",null),r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("label",null,r.a.createElement("b",null,"Name (try to make as same as Wikipedia's article)")),r.a.createElement("br",null),r.a.createElement("input",{onChange:this.handleChange("name"),type:"text",name:"name",required:!0}),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("b",null,"Source")),r.a.createElement("br",null),r.a.createElement("input",{onChange:this.handleChange("source"),type:"text",name:"source"}),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("b",null,"Description (one sentence)")),r.a.createElement("br",null),r.a.createElement("input",{onChange:this.handleChange("description"),style:{width:"50%"},type:"text",required:!0,name:"description"}),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("b",null,"What active chemicals does this contain? (separated by comma)")),r.a.createElement("br",null),r.a.createElement("input",{onChange:this.handleChange("mayContain"),type:"text",name:"mayContain"}),r.a.createElement("br",null),r.a.createElement("label",null,"Is it vegan/plant-based?")," ",r.a.createElement("br",null),r.a.createElement("select",{onChange:this.handleChange("vegan"),name:"vegan"},r.a.createElement("option",{value:"true"},"Yes"),r.a.createElement("option",{value:"false"},"No")),r.a.createElement("br",null),r.a.createElement("label",null,"Is it considered keto/carbohydrate-free?")," ",r.a.createElement("br",null),r.a.createElement("select",{onChange:this.handleChange("keto"),name:"keto"},r.a.createElement("option",{value:"true"},"Yes"),r.a.createElement("option",{value:"false"},"No")),r.a.createElement("br",null),r.a.createElement("label",null,"Is it considered paleo?")," ",r.a.createElement("br",null),r.a.createElement("select",{onChange:this.handleChange("paleo"),name:"paleo"},r.a.createElement("option",{value:"true"},"Yes"),r.a.createElement("option",{value:"false"},"No")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Submit Entry")),r.a.createElement("hr",null))}}]),t}(n.Component),F=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).getTheUser=function(e){a.setState({loggedInUser:e})},a.state={loggedInUser:null},a.service=new g,a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"fetchUser",value:function(){var e=this;null===this.state.loggedInUser&&this.service.loggedin().then(function(t){e.setState({loggedInUser:t})}).catch(function(t){e.setState({loggedInUser:!1})})}},{key:"render",value:function(){var e=this;return this.fetchUser(),this.state.loggedInUser?r.a.createElement("div",{className:"App"},r.a.createElement(j,{userInSession:this.state.loggedInUser}),r.a.createElement(S.d,null,r.a.createElement(S.b,{exact:!0,path:"/",component:C}),r.a.createElement(S.b,{exact:!0,path:"/users/:username",component:function(t){return r.a.createElement(O,Object.assign({userInSession:e.state.loggedInUser},t))}}),r.a.createElement(S.b,{exact:!0,path:"/search/:searchTerm",component:function(e){return r.a.createElement(I,e)}}),r.a.createElement(S.b,{exact:!0,path:"/items/:id",component:function(e){return r.a.createElement(T,e)}}),r.a.createElement(S.b,{exact:!0,path:"/items/edit/:id",component:function(t){return r.a.createElement(x,Object.assign({userInSession:e.state.loggedInUser},t))}}),r.a.createElement(S.b,{exact:!0,path:"/addEntry",component:function(t){return r.a.createElement(q,{userInSession:e.state.loggedInUser})}}))):r.a.createElement("div",{className:"App"},r.a.createElement(j,{userInSession:this.state.loggedInUser}),r.a.createElement(S.d,null,r.a.createElement(S.b,{exact:!0,path:"/signup",render:function(){return r.a.createElement(W,{getUser:e.getTheUser})}}),r.a.createElement(S.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(L,{getUser:e.getTheUser})}}),r.a.createElement(S.b,{exact:!0,path:"/",component:C}),r.a.createElement(S.b,{exact:!0,path:"/users/:username",component:function(e){return r.a.createElement(O,e)}}),r.a.createElement(S.b,{exact:!0,path:"/search/:searchTerm",component:function(e){return r.a.createElement(I,e)}}),r.a.createElement(S.b,{exact:!0,path:"/items/:id",component:function(e){return r.a.createElement(T,e)}}),r.a.createElement(S.b,{exact:!0,path:"/items/edit/:id",render:function(){return r.a.createElement(L,{getUser:e.getTheUser})}}),r.a.createElement(S.b,{exact:!0,path:"/addEntry",render:function(){return r.a.createElement(L,{getUser:e.getTheUser})}})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(c.a,null,r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,1,2]]]);
//# sourceMappingURL=main.f0b6459d.chunk.js.map